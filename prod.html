 <!DOCTYPE html>
<html>
<head>
    <title>Login page</title>
</head>
<body>
	<h1 id="header">PROD</h1>
	<div id="refresh" style="display: none;">
		<button onclick="location.reload()">Change language</button>
	</div>
	
<form>
	<legend>To see button please enter password and click Submit: </legend>
	<input type="password" id="pswd">
	<button type="button" onclick="checkPswd()" id="myButton">Submit</but	
</form>

	<div id="chooseLanguage">
		<label for="language">Please choose your language</label>
		<select id="myLanguage" name="language" onchange="ChangeLanguage()">
			<option value="">none</option>
			<option value="en_US">English</option>
			<option value="de_DE">Deutsch</option>
			<option value="pl_PL">Polski</option>
			<option value="pt_BR">Português</option>		
		</select>
	</div>
		    
		    
	
<script type='text/javascript' src='https://service.force.com/embeddedservice/5.0/esw.min.js'></script>
<script type="text/javascript">	
	
   document.getElementById("pswd")
    .addEventListener("keyup", function(event) {
    event.preventDefault();
    if (event.keyCode === 13) {
        document.getElementById("myButton").click();
    }
    });
		
    function checkPswd() {
        var confirmPassword = "admin";
        var password = document.getElementById("pswd").value;
        if (password == confirmPassword) {
		var languageCodes = new Map();
	    	    languageCodes.set('en_US','English');
	   	    languageCodes.set('de_DE','Deutsch');
	    	    languageCodes.set('pl_PL','Polish');
	            languageCodes.set('pt_BR','Portuguese');
	
		var marketCodes = new Map();
		    marketCodes.set('en_US','GB');
		    marketCodes.set('de_DE','DE');
		    marketCodes.set('pl_PL','PL');
		    marketCodes.set('pt_BR','PT');

		var chatlanguages = new Map();
		    chatlanguages.set('en_US', 'en_US');
		    chatlanguages.set('de_DE', 'de');
		    chatlanguages.set('pl_PL', 'pl');
		    chatlanguages.set('pt_BR', 'pt_BR');

		var disabledMinimizedTextMap = new Map();
		    disabledMinimizedTextMap.set('en_US', 'Agent Offline');
		    disabledMinimizedTextMap.set('de_DE', 'Agent Offline');
		    disabledMinimizedTextMap.set('pl_PL', 'Agenci niedostępni');
		    disabledMinimizedTextMap.set('pt_BR', 'Agentes não disponíveis');

		var defaultMinimizedTextMap = new Map();
		    defaultMinimizedTextMap.set('en_US', 'Chat with an Expert');
		    defaultMinimizedTextMap.set('de_DE', 'Chatten mit einem Experten');
		    defaultMinimizedTextMap.set('pl_PL', 'Porozmawiaj z Ekspertem');
		    defaultMinimizedTextMap.set('pt_BR', 'Conversar com um Perito');

		var loadingTextMap = new Map();
		    loadingTextMap.set('en_US','Loading...');
		    loadingTextMap.set('de_DE','Laden...');
		    loadingTextMap.set('pl_PL','Ładowanie...');
		    loadingTextMap.set('pt_BR','Carregamento...');

		var language;

		function ChangeLanguage(){
			this.language = document.getElementById("myLanguage").value;
			var div1 = document.getElementById("chooseLanguage");
			var div2 = document.getElementById("refresh");
		
			div1.style.display = 'none';
			div2.style.display = 'block';
			document.getElementById("header").innerHTML = "PROD - " +  languageCodes.get(this.language);
			
			var initESW = function(gslbBaseURL) {
				
				embedded_svc.settings.language = chatlanguages.get(this.language); 
				embedded_svc.settings.disabledMinimizedText = disabledMinimizedTextMap.get(this.language);		
				embedded_svc.settings.defaultMinimizedText = defaultMinimizedTextMap.get(this.language);
				embedded_svc.settings.loadingText = loadingTextMap.get(this.language);
				
				embedded_svc.settings.directToButtonRouting = function(prechatFormData) {
					if (this.language === "de_DE"){return "5736E0000004DFg"};
					if(this.language === "pl_PL"){return "5731i000000L40Z"}; // add button id after deployment
					if(this.language === "pt_BR"){return "5731i000000L40e"}; // add button id after deplyment
					
				};

				embedded_svc.settings.enabledFeatures = ['LiveAgent'];
				embedded_svc.settings.entryFeature = 'LiveAgent';
				embedded_svc.settings.extraPrechatFormDetails = [{
							"label":"Case Language",
							"value" : languageCodes.get(this.language),
							"transcriptFields": ["CaseLanguage__c"]
						},
						{	"label":"Case Market",
							"value" : marketCodes.get(this.language),
							"transcriptFields": ["CaseMarket__c"]
				}];

				embedded_svc.settings.extraPrechatInfo = [{
						"entityFieldMaps": [{
							"doCreate": true,
							"doFind": false,
							"fieldName": "LastName",
							"isExactMatch": true,
							"label": "Last Name"
						}, {
							"doCreate": true,
							"doFind": false,
							"fieldName": "FirstName",
							"isExactMatch": true,
							"label": "First Name"
						}, {
							"doCreate": true,
							"doFind": false,
							"fieldName": "Email",
							"isExactMatch": true,
							"label": "Email"
						}],
						"entityName": "Contact",
						"showOnCreate": false
					}];

				embedded_svc.init(
					'https://vwg5-vwgroup.my.salesforce.com',
					'https://vwg5-vwgroup.force.com/drcwholesale',
					gslbBaseURL,
					'00D1i00000091OA',
					'AudiEN',
						{
							baseLiveAgentContentURL: 'https://c.la1-c2-fra.salesforceliveagent.com/content',
							deploymentId: '5721i000000CiBE',
							buttonId: '5731i000000CijO',
							baseLiveAgentURL: 'https://d.la1-c2-fra.salesforceliveagent.com/chat',
							eswLiveAgentDevName: 'EmbeddedServiceLiveAgent_Parent04I1i000000KzYbEAK_1732d66a3fd',
							isOfflineSupportEnabled: false
						}
				);
			};

			if (!window.embedded_svc) {
				var s = document.createElement('script');
					s.setAttribute('src', 'https://vwg5-vwgroup.my.salesforce.com/embeddedservice/5.0/esw.min.js');
					s.onload = function() {
						initESW(null);
					};
				document.body.appendChild(s);
			} else {
				initESW('https://service.force.com');
			} 
		}		
	}else{
            alert("Passwords do not match.");        	
        }
   }	
</script>
</body>
</html>
